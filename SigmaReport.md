#<center>SIGMA : 阿里巴巴的调度系统</center>
##什么是SIGMA？


- 为了保证系统的在线交易服务顺利运转，最初几年，阿里都是在双11大促来临之前大量采购机器储备计算资源，导致了双11之后资源大量闲置点现象；


- Sigma 是阿⾥巴巴全集团范围的 Pouch 容器调度系统；


- Sigma 已经是阿里全网所有机房在线服务管控的核心角色，管控的宿主机资源达到几十万量级，重要程度不言而喻，其算法的优劣程度影响了集团整体的业务稳定性，资源利用率。
##Sigma系统整体架构


- 业务架构特点：业务多样化


- 业务场景复杂


- ![](http://thyrsi.com/t6/376/1537971958x-1566661026.png)
- 兼容Kubernets API,和开源社区共建
- 采用阿里Pouch容器（兼容OCI示佳）
- ![](http://thyrsi.com/t6/376/1537972047x-1404792730.png)
- 调度系统的架构和设计满足业务场景需要
- ![](http://thyrsi.com/t6/376/1537972095x-1404792730.png)
##Sigma-cerebro


- Sigma-cerebro 系统是 Sigma 系统的调度模拟系统，可以在无真实宿主机的情况下，以最小成本，最快速度模拟线上1：1机器资源和请求要求的调度需求完成情况，从各个角度进行扩缩容算法的评测;


- 在对抗系统资源碎片化，在有限资源条件下大批量扩缩容，预期外超卖等问题的过程中，系统一步步发展成现在的样子
##PROS


- 大规模快速建站


	
	

	- Sigma上下游全链路性能优化：



	

	-  Sigma APIServer的并发扩容的优化控制


	 

	- Sigma调度核心master的性能保证


	

	-  ETCD的性能保证和优化


	 

	- 镜像下载：蜻蜓的优化


	 

	- 镜像落盘：调度模拟与宿主机亲和
- 调度和资源优化


	- 资源池分散


		1. 统一资源池和底层调度


		1. 在线离线任务混部


	- 调度排布


		1. 在线任务优化排布


		1. 分时复用


	- 资源规划和预算


		1. 为峰值需求保留资源


		1. 不确定性成本


- 混部对利用率提升


	- 通过混部，CPU日均利用率从10%提升到40+%
![](http://thyrsi.com/t6/376/1537972495x-1404729656.png)


- ##CONS

- 资源最优


	- 混合云架构进一步发展，混合云深度联动，实时共享资源


	- 通过大规模混部、优先级差异化提升资源使用效率


- 智能化调度：更好地感知应用的SLA需求、减少应用间干扰


- 适应异构计算需求，为异构计算优化
##Comments


- 一个好的调度应该在满足容器的资源运行时，最小化互相干扰的前提下，越能够节省集群整体资源，提高利用率，在固定时间内完成分配的调度系统，较符合理想的调度系统


- 同时，一个调度算法仿真评测的系统，也应做到


	- 要能够真实模拟生产的大规模环境和复杂需求；


	- 要尽量节省模拟的开销，避免模拟的风险；


	- 从静态和动态的角度都能够给第一个问题以定性定量的回答。







